[user]
    name = Džiugas Pečiulevičius
    email = 43075730+peciulevicius@users.noreply.github.com

[init]
    defaultBranch = main

[core]
    editor = vim
    autocrlf = input           # Convert CRLF to LF on commit
    excludesfile = ~/.gitignore_global
    # Commit message template (use with: git commit without -m)
    # template = ~/.gitmessage

[pull]
    rebase = false             # Merge instead of rebase on pull

[push]
    default = current          # Push current branch to remote branch with same name
    autoSetupRemote = true     # Automatically set up remote tracking

[alias]
    # --- Config & Info ---
    gl = config --global -l                           # Show global config
    aliases = !git config --get-regexp alias | sed 's/alias\\.//g'  # Show all aliases

    # --- Status & Info ---
    st = status -sb                                   # Short status with branch
    s = status
    br = branch -v                                    # List branches with last commit
    branches = branch -a                              # Show all branches (including remote)
    tags = tag -l                                     # List all tags

    # --- Adding & Committing ---
    a = add
    aa = add --all                                    # Add all changes
    ap = add --patch                                  # Interactively stage chunks
    ac = !git add -A && git commit -m                 # Add all and commit
    ci = commit                                       # Commit
    cm = commit -m                                    # Commit with message
    amend = commit --amend --no-edit                  # Amend last commit without changing message
    amendit = commit --amend                          # Amend last commit and edit message
    fixup = commit --fixup                            # Create fixup commit

    # --- Undoing Things ---
    unstage = reset HEAD --                           # Unstage files
    undo = reset --soft HEAD^                         # Undo last commit, keep changes
    uncommit = reset --soft HEAD~1                    # Same as undo
    discard = checkout --                             # Discard changes in working directory
    nevermind = !git reset --hard HEAD && git clean -fd  # Nuclear option: discard all changes

    # --- Pushing & Pulling ---
    pushf = push --force-with-lease                   # Safer force push
    sync = !git pull && git push                      # Pull then push
    up = pull --rebase --autostash                    # Pull with rebase and stash

    # --- Branching ---
    co = checkout                                     # Checkout
    cob = checkout -b                                 # Create and checkout new branch
    sw = switch                                       # Switch branches (newer git)
    swc = switch -c                                   # Create and switch to new branch
    main = checkout main                              # Quick switch to main
    master = checkout master                          # Quick switch to master
    develop = checkout develop                        # Quick switch to develop

    # --- Merging & Rebasing ---
    merge = merge --no-ff                             # Always create merge commit
    ff = merge --ff-only                              # Only allow fast-forward merges
    ri = rebase -i                                    # Interactive rebase
    rc = rebase --continue                            # Continue rebase
    ra = rebase --abort                               # Abort rebase

    # --- Stashing ---
    stash = stash push                                # Stash changes
    pop = stash pop                                   # Apply and remove stash
    apply = stash apply                               # Apply stash without removing

    # --- Logging ---
    last = log -1 HEAD --stat                         # Show last commit with stats
    lg = log --color --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)<%an>%Creset' --abbrev-commit
    tree = log --graph --oneline --all --decorate     # Quick tree view
    hist = log --pretty=format:\"%h %ad | %s%d [%an]\" --graph --date=short  # Pretty history
    lg-me = log --author="Pečiulevičius" --color --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)<%an>%Creset' --abbrev-commit
    log-me = log --author="Pečiulevičius"             # Filter by author
    today = log --since=midnight --oneline            # Show today's commits

    # --- Diffing ---
    d = diff                                          # Show unstaged changes
    ds = diff --staged                                # Show staged changes
    dc = diff --cached                                # Same as ds
    diff-words = diff --word-diff                     # Word-by-word diff

    # --- Remote ---
    remotes = remote -v                               # Show remotes
    fetch-all = fetch --all --prune                   # Fetch from all remotes and prune deleted branches

    # --- Cleanup ---
    cleanup = !git branch --merged | grep -v "\\*\\|main\\|master\\|develop" | xargs -n 1 git branch -d  # Delete merged branches
    prune-remote = remote prune origin                # Remove stale remote branches

    # --- Finding Things ---
    find = !git ls-files | grep -i                    # Find files
    grep = grep -Ii                                   # Case-insensitive grep
    contributors = shortlog -sn                       # List contributors

    # --- Misc Utilities ---
    ignore = !gi() { curl -sL https://www.toptal.com/developers/gitignore/api/$@ ;}; gi  # Generate .gitignore
